<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="l.png" type="image/png" />
    <title>J.B.A.I</title>
    <link rel="stylesheet" href="style.css" />
</head>
<body>
    <div id="toast-container"></div>
    <div class="sidebar-backdrop"></div>
    
    <!-- Sidebar remains the same -->
    <button id="sidebar-toggle" data-tooltip="Toggle Sidebar" type="button">
        <svg class="close-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="11 17 6 12 11 7"></polyline><polyline points="18 17 13 12 18 7"></polyline></svg>
        <svg class="open-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="13 17 18 12 13 7"></polyline><polyline points="6 17 11 12 6 7"></polyline></svg>
    </button>
    <div class="sidebar">
        <div class="sidebar-header">
            <h2>History</h2>
            <button id="new-chat-btn" type="button">New Chat</button>
        </div>
        <div class="conversation-list" id="conversation-list"></div>
    </div>

    <!-- Main Content Wrapper for the Flexbox layout -->
    <div class="main-content">
        <div class="chat-container">
            <div id="message-area" class="message-area"></div>
            <div class="chat-input-container">
                <div id="file-previews-container"></div>
                <div class="chat-input-wrapper">
                    <button id="toggle-options-button" data-tooltip="Settings" type="button">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 21v-7M4 10V3M12 21v-9M12 8V3M20 21v-5M20 12V3M2 14h4M10 8h4M18 16h4"/></svg>
                    </button>
                     <button id="attach-file-button" data-tooltip="Attach Files" type="button">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path></svg>
                    </button>
                    <textarea id="chat-input" placeholder="Type your message..." rows="1"></textarea>
                    <button id="send-button" data-tooltip="Send Message" type="button" disabled>
                        <svg viewBox="0 0 24 24"><path d="M2,21L23,12L2,3V10L17,12L2,14V21Z"></path></svg>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- NEW: Dedicated Canvas View Panel -->
        <div id="canvas-view" class="canvas-view">
             <div class="canvas-header">
                <h3>Live Preview</h3>
            </div>
            <div id="canvas-content" class="canvas-content">
                <div class="canvas-placeholder">Canvas is active. Previews of HTML and SVG code will appear here.</div>
            </div>
        </div>
    </div>


    <input type="file" id="file-input" multiple hidden accept="image/*,video/*,audio/*,text/*,.js,.lua,.css,.html">

    <!-- Fullscreen Preview Modal (still used for images/videos) -->
    <div id="fullscreen-preview-overlay" class="fullscreen-overlay">
        <button id="fullscreen-close-btn" class="fullscreen-close-btn" data-tooltip="Close (Esc)">&times;</button>
        <div id="fullscreen-content" class="fullscreen-content"></div>
    </div>
    
    <div id="custom-tooltip" class="custom-tooltip" role="tooltip"></div>
    
    <script type="module" src="script.js" defer></script>
</body>
</html>
